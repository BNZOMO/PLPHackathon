{% extends 'frontend/base3.html' %}
{% load static %}
{% block content %}
{% if messages %}
{% for message in messages %}
<script>
    notify('{{message.level_tag}}', "{{message}}");
</script>

{% endfor %}

{% endif %}
<div class="row">

    <div class="col-md-5">
        <div class="card shadow-sm p-4">




            <div class="mt-4 text-muted small lg-5">
                <p><strong>Guidelines for Recipe Generation:</strong></p>
                <ul>
                    <li>Enter a list of <strong>ingredients</strong> you
                        currently have
                        (e.g., tomatoes, chicken, rice).</li>
                    <li>Include any <strong>spices or condiments</strong> you
                        want to use.
                    </li>
                    <li>Mention if you have any <strong>dietary preferences or
                            restrictions</strong> (e.g., vegetarian,
                        gluten-free,
                        low-sugar).</li>
                    <li>Specify if you want a <strong>specific type of
                            meal</strong> (e.g.,
                        breakfast, dinner, dessert).</li>
                    <li>Be as detailed as possible for more accurate and
                        creative recipe
                        suggestions.</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-md-7">
        <div class="card shadow-sm p-4">
            <h3 class="text-center mb-4">Describe Your information</h3>



            <form method="POST" action="{% url 'search' %}">
                {% csrf_token %}

                <div class="mb-3">
                    <label for="information"
                        class="form-label fw-bold">Ingredients &
                        Details</label>
                    <textarea class="form-control" id="information"
                        name="information" rows="6"
                        placeholder="Example: Enter the ingredients you have (full or partial list), along with any spices, condiments, or flavors youâ€™d like to include. You may also specify dietary preferences, cooking style, or meal type (e.g., breakfast, dinner, dessert). Be as detailed as possible to improve recipe accuracy and suggestions."
                        required>{{ form.information.data }}</textarea>
                    <div class="form-text">Provide as much detail as
                        possible so the AI can generate accurate
                        results.</div>
                </div>
                <input type="hidden" id="latitude" name="latitude">
                <input type="hidden" id="longitude" name="longitude">

                <div class="d-grid">
                    <div class="row">
                        <div class="col-sm-3">
                            <button type="submit"
                                class="btn btn-success btn-lg">Generate
                            </button>
                        </div>
                    </div>
                </div>
            </form>


        </div>
    </div>
</div>
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", () => {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition((position) => {
                document.getElementById("latitude").value = position.coords.latitude;
                document.getElementById("longitude").value = position.coords.longitude;
                document.getElementById("near-by-clinics").setAttribute(
                    "href",
                    "/clinics/" + position.coords.latitude + "/" + position.coords.longitude
                );
            });
        }
    });
</script>
{% endblock %}